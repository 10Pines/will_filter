<% form_tag({:controller=>params["controller"], :action => params["action"]}, {:method => :get, :name=>'mf_form', :id => 'mf_form', :class => 'mf_form' }) do %>
<%=hidden_field_tag(:mf_type, @model_filter.class.name) %>
<div class="model_filter">
  <div id="mf_filter_conditions" class="mf_filter_conditions">
      <%= render :partial=> "/model_filter/filter_conditions" %>
  </div>
  <table class="mf_footer">
      <tr>
        <td style="text-align:left;">
            <input type="button" value="+ Add" id="mf_btn_add" onClick="performFilterAction('addConditionLast')" class="mf_button">
            &nbsp;
            <%=link_to_function("- Clear", "performFilterAction('clear')") %>
            &nbsp;&nbsp;
            <span id="mf_loader" style="display:none; font-size:10px;">
                <%=image_tag "/images/mf_spinner.gif", {:style=>"vertical-align:middle"} %> Loading...
            </span>
        </td>
        <td style="text-align:right;">
            <%=link_to_function("Toggle Conditions", "toggleSQLConditions()", :style=>"font-size:9px") %>
            &nbsp;&nbsp;
            Order:
            <%= select_tag(:mf_order, options_for_select(@model_filter.condition_options, @model_filter.order), {:onChange=>"markDirty()"}) %>
            <%= select_tag(:mf_order_type, options_for_select(@model_filter.order_type_options, @model_filter.order_type), {:onChange=>"markDirty()"}) %>
            Page Size:
            <%= select_tag(:mf_per_page, options_for_select(@model_filter.per_page_options, @model_filter.per_page), {:onChange=>"markDirty()"}) %>
            &nbsp;&nbsp;
            <input type="button" value="Submit Filter" id="mf_btn_search" onClick="performFilterAction('submit')" class="mf_button">&nbsp;
        </td>
      </tr>
  </table>
  <div id="mf_sql_conditions" style="display:none;font-size:10px;border-top:1px solid #ccc; width:100%;margin-top:3px;">
      <%= @model_filter.debug_sql_conditions %>
  </div>
</div>
<% end %>

<div id="mf_calendar" style="display:none"></div>

<script>
    // disableControlButtons();
    <% unless @model_filter.errors? %>
    		// enableControlButtons();
    <% end %>
</script>
